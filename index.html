<html><head>
  <title>A sonnet</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <style type="text/css">
body { margin: 7em }
  </style>
</head><body>
  <h1>A sonnet</h1>
  <i>(just for you)</i>
  <p id="verse"><span style="font-size: smaller">[Excuse me a moment while I invoke the muse...]</div>
  <p><br><input id="another" type="submit" value="Another?" disabled>
  <hr>
  <div id="footer" style="font-size: smaller">
  <a href="http://github.com/darius/amphigory">Source code</a> on
  GitHub. Also I commend
  <a href="http://books.google.com/books?id=kWElP9YZkzQC&pg=PA43&lpg=PA43&dq=trurl%27s+electronic+bard">Trurl's
  Electronic Bard</a> to your attention.

  <p><em>Copyright &#169; 2012
  <a href="http://wry.me/blog/">Darius Bacon</a><br/></em></div>

  <script src="pronounce_iamb_compat.js"></script>
  <script src="verse.js"></script>
  <script type="text/javascript">

var output  = document.getElementById('verse');
var another = document.getElementById('another');

var updateIntervalId;

function updateVerse() {
    output.innerHTML = emit(states);
}

function invokeTheMuse() {
    another.disabled = true;
    if (updateIntervalId) clearInterval(updateIntervalId);
    updateIntervalId = setInterval(updateVerse, 50);
    versify(function(result) { 
        if (updateIntervalId) clearInterval(updateIntervalId);
        output.innerHTML = result;
        another.disabled = false;
    });
    return false;
}
invokeTheMuse();

another.onclick = invokeTheMuse;
  </script>

</body></html>
